(function(a){jQuery.fn.iphoneSwitch=function(f,c,e,b){var g=f=="on"?f:"off";var d={track_class:"track",handle_class:"handle",label_class:"label",mouse_over:"pointer",mouse_out:"default",hide_checkbox:true,sync_checkbox:true,use_images:true,speed:"250",on_label:"On",off_label:"Off",switch_height:28,switch_width:93,switch_radius:4,track_img:"images/switch_track.png",track_bg_color:"#5f6777",track_width:93,track_height:27,track_padding:0,track_dropshadow_color:"rgba(255, 255, 255, 0.15)",handle_img:"images/switch_handle.png",handle_bg_color:"#f9f9f9",handle_border_color:"#d0d0d0",handle_height:25,handle_width:40,label_color:"#ffffff",label_font_size:12};if(b){jQuery.extend(d,b)}return this.each(function(){var l=jQuery(this);if(!jQuery(l).is(":checkbox")){return}var h;var i;var m;var n;if(d.hide_checkbox){l.hide()}if(d.sync_checkbox){g=l.attr("checked")==true?"on":"off"}if(d.use_images){track_bg="url("+d.track_img+")";handle_bg="url("+d.handle_img+")";n=d.track_padding}else{track_bg=d.track_bg_color;handle_bg=d.handle_bg_color;n=d.track_padding+1}var k=(d.track_width-n)-d.handle_width;var j=(g=="on"?k:n);var o=(g=="on"?n:k);h=jQuery("<div />").addClass("switch-container").css({height:d.switch_height,width:d.switch_width,position:"relative",overflow:"hidden",font:"normal normal normal 12px/18px 'Lucida Grande', Verdana, sans-serif"});i=jQuery("<div />").addClass(d.track_class).css({height:d.track_height,width:d.track_width,position:"absolute","background-image":track_bg,"background-repeat":"no-repeat"});m=jQuery("<div />").addClass(d.handle_class).css({height:d.handle_height,width:d.handle_width,left:j,right:o,top:1,bottom:1,position:"absolute","background-image":handle_bg,"background-repeat":"no-repeat"});label_on=jQuery("<span />").addClass(d.label_class).addClass("left").text(d.on_label).css({height:d.handle_height,width:d.handle_width,"line-height":d.track_height+"px",color:d.label_color,"font-size":d.label_font_size,"text-align":"center","text-shadow":"#333 0px 1px 0px","float":"left"});label_off=jQuery("<span />").addClass(d.label_class).addClass("right").text(d.off_label).css({height:d.handle_height,width:d.handle_width,"line-height":d.track_height+"px",color:d.label_color,"font-size":d.label_font_size,"text-align":"center","text-shadow":"#333 0px 1px 0px",position:"absolute",top:1,right:1,bottom:1});if(!d.use_images){i.css({"background-color":d.track_bg_color,"-webkit-border-radius":d.switch_radius,"-moz-border-radius":d.switch_radius,"border-radius":d.switch_radius,"-webkit-box-shadow":d.track_dropshadow_color+" 0px 1px 1px, rgba(1, 1, 1, 0.65) 0px 3px 6px inset","-moz-box-shadow":d.track_dropshadow_color+" 0px 1px 1px, rgba(1, 1, 1, 0.65) 0px 3px 6px inset","box-shadow":d.track_dropshadow_color+" 0px 1px 1px, rgba(1, 1, 1, 0.65) 0px 3px 6px inset","-webkit-background-clip":"padding-box","background-clip":"padding-box"});m.css({background:"-moz-linear-gradient(-90deg, #fcfcfc, #e6e6e6)","background-image":"-webkit-gradient(linear, 0% 0%, 0% 100%, from(#fcfcfc), to(#e6e6e6))","background-color":d.handle_bg_color,"-webkit-border-radius":d.switch_radius-1,"-moz-border-radius":d.switch_radius-1,"border-radius":d.switch_radius-1,"-webkit-box-shadow":"rgba(255,255,255,1) 0px 0px 3px inset, rgba(0, 0, 0, 0.99) 0px 0px 3px","-moz-box-shadow":"rgba(255,255,255,1) 0px 0px 3px inset, rgba(0, 0, 0, 0.99) 0px 0px 3px","box-shadow":"rgba(255,255,255,1) 0px 0px 3px inset, rgba(0, 0, 0, 0.99) 0px 0px 3px","-webkit-background-clip":"padding-box","background-clip":"padding-box"})}l.wrap(h);i.append(label_on).append(label_off).append(m);l.after(i);var p=l.parent();jQuery(p).find("."+d.handle_class).click(function(){var q=jQuery(this).parent().parent().find('input[type="checkbox"]');var r=q.attr("checked")==true?"on":"off";if(r=="on"){jQuery(this).animate({left:n,right:k},d.speed,function(){if(typeof e=="function"){e.call(this)}});q.attr("checked",false).trigger("change");r="off"}else{jQuery(this).animate({left:k,right:n},d.speed,function(){if(typeof c=="function"){c.call(this)}});q.attr("checked",true).trigger("change");r="on"}})})}})(jQuery);